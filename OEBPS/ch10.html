<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 10. Debugging</title><link rel="stylesheet" href="core.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"/></head><body><div class="chapter" title="Chapter 10. Debugging"><div class="titlepage"><div><div><h1 class="title"><a id="debugging"/>Chapter 10. Debugging</h1></div></div></div><p>Now that you know enough to write more complicated programs, you may start finding not-so-simple bugs in them. This chapter covers some tools and techniques for finding the root cause of bugs in your program to help you fix bugs faster and with less effort.</p><p>To paraphrase an old joke among programmers, “Writing code accounts for 90 percent of programming. Debugging code accounts for the other 90 percent.”</p><p>Your computer will do only what you tell it to do; it won’t read your mind and do what you <span class="emphasis"><em>intended</em></span> it to do. Even professional programmers create bugs all the time, so don’t feel discouraged if your program has a problem.</p><p>Fortunately, there are a few tools and techniques to identify what exactly your code is doing and where it’s going wrong. First, you will look at logging and assertions, two features that can help you detect bugs early. In general, the earlier you catch bugs, the easier they will be to fix.</p><p><a id="iddle1295" class="indexterm"/><a id="iddle1451" class="indexterm"/><a id="iddle2284" class="indexterm"/>Second, you will look at how to use the debugger. The debugger is a feature of IDLE that executes a program one instruction at a time, giving you a chance to inspect the values in variables while your code runs, and track how the values change over the course of your program. This is much slower than running the program at full speed, but it is helpful to see the actual values in a program while it runs, rather than deducing what the values might be from the source code.</p><div class="sect1" title="Raising Exceptions"><div class="titlepage"><div><div><h1 class="title"><a id="raising_exceptions"/>Raising Exceptions</h1></div></div></div><p>Python raises an exception whenever it tries to execute invalid code. In <a class="xref" href="ch03.html" title="Chapter 3. Functions">Chapter 3</a>, you read about how to handle Python’s exceptions with <code class="literal">try</code> and <code class="literal">except</code> statements so that your program can recover from exceptions that you anticipated. But you can also raise your own exceptions in your code. Raising an exception is a way of saying, “Stop running the code in this function and move the program execution to the <code class="literal">except</code> statement.”</p><p>Exceptions are raised with a <code class="literal">raise</code> statement. In code, a <code class="literal">raise</code> statement consists of the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The <code class="literal">raise</code> keyword</p></li><li class="listitem"><p>A call to the <code class="literal">Exception()</code> function</p></li><li class="listitem"><p>A string with a helpful error message passed to the <code class="literal">Exception()</code> function</p></li></ul></div><p>For example, enter the following into the interactive shell:</p><a id="pro_id00381"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>raise Exception('This is the error message.')</strong></span>
Traceback (most recent call last):
  File "&lt;pyshell#191&gt;", line 1, in &lt;module&gt;
    raise Exception('This is the error message.')
Exception: This is the error message.</pre><p>If there are no <code class="literal">try</code> and <code class="literal">except</code> statements covering the <code class="literal">raise</code> statement that raised the exception, the program simply crashes and displays the exception’s error message.</p><p>Often it’s the code that calls the function, not the fuction itself, that knows how to handle an expection. So you will commonly see a <code class="literal">raise</code> statement inside a function and the <code class="literal">try</code> and <code class="literal">except</code> statements in the code calling the function. For example, open a new file editor window, enter the following code, and save the program as <span class="emphasis"><em>boxPrint.py</em></span>:</p><a id="pro_id00382"/><pre class="programlisting">   def boxPrint(symbol, width, height):
       if len(symbol) != 1:
➊         raise Exception('Symbol must be a single character string.')
       if width &lt;= 2:
➋         raise Exception('Width must be greater than 2.')
       if height &lt;= 2:
➌         raise Exception('Height must be greater than 2.')
       print(symbol * width)
       for i in range(height - 2):
           print(symbol + (' ' * (width - 2)) + symbol)
       print(symbol * width)

   for sym, w, h in (('*', 4, 4), ('O', 20, 5), ('x', 1, 3), ('ZZ', 3, 3)):
       try:
           boxPrint(sym, w, h)
➍     except Exception as err:
➎         print('An exception happened: ' + str(err))</pre><p><a id="iddle1149" class="indexterm"/><a id="iddle1286" class="indexterm"/><a id="iddle1447" class="indexterm"/><a id="iddle1449" class="indexterm"/><a id="iddle2495" class="indexterm"/><a id="iddle2583" class="indexterm"/>Here we’ve defined a <code class="literal">boxPrint()</code> function that takes a character, a width, and a height, and uses the character to make a little picture of a box with that width and height. This box shape is printed to the screen.</p><p>Say we want the character to be a single character, and the width and height to be greater than 2. We add <code class="literal">if</code> statements to raise exceptions if these requirements aren’t satisfied. Later, when we call <code class="literal">boxPrint()</code> with various arguments, our <code class="literal">try</code>/<code class="literal">except</code> will handle invalid arguments.</p><p>This program uses the <code class="literal">except Exception as err</code> form of the <code class="literal">except</code> statement ➍. If an <code class="literal">Exception</code> object is returned from <code class="literal">boxPrint()</code> ➊➋➌, this <code class="literal">except</code> statement will store it in a variable named <code class="literal">err</code>. The <code class="literal">Exception</code> object can then be converted to a string by passing it to <code class="literal">str()</code> to produce a user-friendly error message ➎. When you run this <span class="emphasis"><em>boxPrint.py</em></span>, the output will look like this:</p><a id="pro_id00383"/><pre class="programlisting">****
*  *
*  *
****
OOOOOOOOOOOOOOOOOOOO
O                  O
O                  O
O                  O
OOOOOOOOOOOOOOOOOOOO
An exception happened: Width must be greater than 2.
An exception happened: Symbol must be a single character string.</pre><p>Using the <code class="literal">try</code> and <code class="literal">except</code> statements, you can handle errors more gracefully instead of letting the entire program crash.</p></div><div class="sect1" title="Getting the Traceback as a String"><div class="titlepage"><div><div><h1 class="title"><a id="getting_the_traceback_as_a_string"/>Getting the Traceback as a String</h1></div></div></div><p>When Python encounters an error, it produces a treasure trove of error information called the <span class="emphasis"><em>traceback</em></span>. The traceback includes the error message, the line number of the line that caused the error, and the sequence of the function calls that led to the error. This sequence of calls is called the <span class="emphasis"><em>call stack</em></span>.</p><p>Open a new file editor window in IDLE, enter the following program, and save it as <span class="emphasis"><em>errorExample.py</em></span>:</p><a id="pro_id00384"/><pre class="programlisting">def spam():
    bacon()
def bacon():
    raise Exception('This is the error message.')

spam()</pre><p>When you run <span class="emphasis"><em>errorExample.py</em></span>, the output will look like this:</p><a id="pro_id00385"/><pre class="programlisting">Traceback (most recent call last):
  File "errorExample.py", line 7, in &lt;module&gt;
    spam()
  File "errorExample.py", line 2, in spam
    bacon()
  File "errorExample.py", line 5, in bacon
    raise Exception('This is the error message.')
Exception: This is the error message.</pre><p>From the traceback, you can see that the error happened on line 5, in the <code class="literal">bacon()</code> function. This particular call to <code class="literal">bacon()</code> came from line 2, in the <code class="literal">spam()</code> function, which in turn was called on line 7. In programs where functions can be called from multiple places, the call stack can help you determine which call led to the error.</p><p>The traceback is displayed by Python whenever a raised exception goes unhandled. But you can also obtain it as a string by calling <code class="literal">traceback.format_exc()</code>. This function is useful if you want the information from an exception’s traceback but also want an <code class="literal">except</code> statement to gracefully handle the exception. You will need to import Python’s <code class="literal">traceback</code> module before calling this function.</p><p>For example, instead of crashing your program right when an exception occurs, you can write the traceback information to a log file and keep your program running. You can look at the log file later, when you’re ready to debug your program. Enter the following into the interactive shell:</p><a id="pro_id00386"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>import traceback</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>try:</strong></span>
         <span class="strong"><strong>raise Exception('This is the error message.')</strong></span>
<span class="strong"><strong>except:</strong></span>
         <span class="strong"><strong>errorFile = open('errorInfo.txt', 'w')</strong></span>
         <span class="strong"><strong>errorFile.write(traceback.format_exc())</strong></span>
         <span class="strong"><strong>errorFile.close()</strong></span>
         <span class="strong"><strong>print('The traceback info was written to errorInfo.txt.')</strong></span>

116
The traceback info was written to errorInfo.txt.</pre><p>The <code class="literal">116</code> is the return value from the <code class="literal">write()</code> method, since 116 characters were written to the file. The traceback text was written to <span class="emphasis"><em>errorInfo.txt</em></span>.</p><a id="pro_id00387"/><pre class="programlisting">Traceback (most recent call last):
  File "&lt;pyshell#28&gt;", line 2, in &lt;module&gt;
Exception: This is the error message.</pre></div><div class="sect1" title="Assertions"><div class="titlepage"><div><div><h1 class="title"><a id="assertions"/>Assertions</h1></div></div></div><p><a id="iddle1096a" class="indexterm"/><a id="iddle1284" class="indexterm"/><a id="iddle1448" class="indexterm"/>An <span class="emphasis"><em>assertion</em></span> is a sanity check to make sure your code isn’t doing something obviously wrong. These sanity checks are performed by <code class="literal">assert</code> statements. If the sanity check fails, then an <code class="literal">AssertionError</code> exception is raised. In code, an <code class="literal">assert</code> statement consists of the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The <code class="literal">assert</code> keyword</p></li><li class="listitem"><p>A condition (that is, an expression that evaluates to <code class="literal">True</code> or <code class="literal">False</code>)</p></li><li class="listitem"><p>A comma</p></li><li class="listitem"><p>A string to display when the condition is <code class="literal">False</code></p></li></ul></div><p>For example, enter the following into the interactive shell:</p><a id="pro_id00388"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>podBayDoorStatus = 'open'</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>assert podBayDoorStatus == 'open', 'The pod bay doors need to be "open".'</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>podBayDoorStatus = 'I\'m sorry, Dave. I\'m afraid I can't do that.''</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>assert podBayDoorStatus == 'open', 'The pod bay doors need to be "open".'</strong></span>
Traceback (most recent call last):
  File "&lt;pyshell#10&gt;", line 1, in &lt;module&gt;
    assert podBayDoorStatus == 'open', 'The pod bay doors need to be "open".'
AssertionError: The pod bay doors need to be "open".</pre><p>Here we’ve set <code class="literal">podBayDoorStatus</code> to <code class="literal">'open'</code>, so from now on, we fully expect the value of this variable to be <code class="literal">'open'</code>. In a program that uses this variable, we might have written a lot of code under the assumption that the value is <code class="literal">'open'</code>—code that depends on its being <code class="literal">'open'</code> in order to work as we expect. So we add an assertion to make sure we’re right to assume <code class="literal">podBayDoorStatus</code> is <code class="literal">'open'</code>. Here, we include the message <code class="literal">'The pod bay doors need to be "open".'</code> so it’ll be easy to see what’s wrong if the assertion fails.</p><p>Later, say we make the obvious mistake of assigning <code class="literal">podBayDoorStatus</code> another value, but don’t notice it among many lines of code. The assertion catches this mistake and clearly tells us what’s wrong.</p><p>In plain English, an <code class="literal">assert</code> statement says, “I assert that this condition holds true, and if not, there is a bug somewhere in the program.” Unlike exceptions, your code should <span class="emphasis"><em>not</em></span> handle <code class="literal">assert</code> statements with <code class="literal">try</code> and <code class="literal">except</code>; if an <code class="literal">assert</code> fails, your program <span class="emphasis"><em>should</em></span> crash. By failing fast like this, you shorten the time between the original cause of the bug and when you first notice the bug. This will reduce the amount of code you will have to check before finding the code that’s causing the bug.</p><p>Assertions are for programmer errors, not user errors. For errors that can be recovered from (such as a file not being found or the user entering invalid data), raise an exception instead of detecting it with an <code class="literal">assert</code> statement.</p><div class="sect2" title="Using an Assertion in a Traffic Light Simulation"><div class="titlepage"><div><div><h2 class="title"><a id="using_an_assertion_in_a_traffic_light_si"/>Using an Assertion in a Traffic Light Simulation</h2></div></div></div><p>Say you’re building a traffic light simulation program. The data structure representing the stoplights at an intersection is a dictionary with keys <code class="literal">'ns'</code> and <code class="literal">'ew'</code>, for the stoplights facing north-south and east-west, respectively. The values at these keys will be one of the strings <code class="literal">'green'</code>, <code class="literal">' yellow'</code>, or <code class="literal">'red'</code>. The code would look something like this:</p><a id="pro_id00389"/><pre class="programlisting">market_2nd = {'ns': 'green', 'ew': 'red'}
mission_16th = {'ns': 'red', 'ew': 'green'}</pre><p>These two variables will be for the intersections of Market Street and 2nd Street, and Mission Street and 16th Street. To start the project, you want to write a <code class="literal">switchLights()</code> function, which will take an intersection dictionary as an argument and switch the lights.</p><p>At first, you might think that <code class="literal">switchLights()</code> should simply switch each light to the next color in the sequence: Any <code class="literal">'green'</code> values should change to <code class="literal">'yellow'</code>, <code class="literal">'yellow'</code> values should change to <code class="literal">'red'</code>, and <code class="literal">'red'</code> values should change to <code class="literal">'green'</code>. The code to implement this idea might look like this:</p><a id="pro_id00390"/><pre class="programlisting">def switchLights(stoplight):
    for key in stoplight.keys():
        if stoplight[key] == 'green':
            stoplight[key] = 'yellow'
        elif stoplight[key] == 'yellow':
            stoplight[key] = 'red'
        elif stoplight[key] == 'red':
            stoplight[key] = 'green'

switchLights(market_2nd)</pre><p>You may already see the problem with this code, but let’s pretend you wrote the rest of the simulation code, thousands of lines long, without noticing it. When you finally do run the simulation, the program doesn’t crash—but your virtual cars do!</p><p>Since you’ve already written the rest of the program, you have no idea where the bug could be. Maybe it’s in the code simulating the cars or in the code simulating the virtual drivers. It could take hours to trace the bug back to the <code class="literal">switchLights()</code> function.</p><p>But if while writing <code class="literal">switchLights()</code> you had added an assertion to check that <span class="emphasis"><em>at least one of the lights is always red</em></span>, you might have included the following at the bottom of the function:</p><a id="pro_id00391"/><pre class="programlisting">assert 'red' in stoplight.values(), 'Neither light is red! ' + str(stoplight)</pre><p>With this assertion in place, your program would crash with this error message:</p><a id="pro_id00392"/><pre class="programlisting">   Traceback (most recent call last):
     File "carSim.py", line 14, in &lt;module&gt;
       switchLights(market_2nd)
     File "carSim.py", line 13, in switchLights
       assert 'red' in stoplight.values(), 'Neither light is red! ' + str(stoplight)
➊ AssertionError: Neither light is red! {'ns': 'yellow', 'ew': 'green'}</pre><p><a id="iddle1293" class="indexterm"/><a id="iddle1871" class="indexterm"/><a id="iddle1882" class="indexterm"/>The important line here is the <code class="literal">AssertionError</code> ➊. While your program crashing is not ideal, it immediately points out that a sanity check failed: Neither direction of traffic has a red light, meaning that traffic could be going both ways. By failing fast early in the program’s execution, you can save yourself a lot of future debugging effort.</p></div><div class="sect2" title="Disabling Assertions"><div class="titlepage"><div><div><h2 class="title"><a id="disabling_assertions"/>Disabling Assertions</h2></div></div></div><p>Assertions can be disabled by passing the <code class="literal">-O</code> option when running Python. This is good for when you have finished writing and testing your program and don’t want it to be slowed down by performing sanity checks (although most of the time <code class="literal">assert</code> statements do not cause a noticeable speed difference). Assertions are for development, not the final product. By the time you hand off your program to someone else to run, it should be free of bugs and not require the sanity checks. See Appendix B for details about how to launch your probably-not-insane programs with the <code class="literal">-O</code> option.</p></div></div><div class="sect1" title="Logging"><div class="titlepage"><div><div><h1 class="title"><a id="logging"/>Logging</h1></div></div></div><p>If you’ve ever put a <code class="literal">print()</code> statement in your code to output some variable’s value while your program is running, you’ve used a form of <span class="emphasis"><em>logging</em></span> to debug your code. Logging is a great way to understand what’s happening in your program and in what order its happening. Python’s <code class="literal">logging</code> module makes it easy to create a record of custom messages that you write. These log messages will describe when the program execution has reached the logging function call and list any variables you have specified at that point in time. On the other hand, a missing log message indicates a part of the code was skipped and never executed.</p><div class="sect2" title="Using the logging Module"><div class="titlepage"><div><div><h2 class="title"><a id="using_the_logging_module"/>Using the logging Module</h2></div></div></div><p>To enable the <code class="literal">logging</code> module to display log messages on your screen as your program runs, copy the following to the top of your program (but under the <code class="literal">#! python</code> shebang line):</p><a id="pro_id00393"/><pre class="programlisting">import logging
logging.basicConfig(level=logging.DEBUG, format=' %(asctime)s - %(levelname)s
- %(message)s')</pre><p>You don’t need to worry too much about how this works, but basically, when Python logs an event, it creates a <code class="literal">LogRecord</code> object that holds information about that event. The <code class="literal">logging</code> module’s <code class="literal">basicConfig()</code> function lets you specify what details about the <code class="literal">LogRecord</code> object you want to see and how you want those details displayed.</p><p>Say you wrote a function to calculate the <span class="emphasis"><em>factorial</em></span> of a number. In mathematics, factorial 4 is 1 × 2 × 3 × 4, or 24. Factorial 7 is 1 × 2 × 3 × 4 × 5 × 6 × 7, or 5,040. Open a new file editor window and enter the following code. It has a bug in it, but you will also enter several log messages to help yourself figure out what is going wrong. Save the program as <span class="emphasis"><em>factorialLog.py</em></span>.</p><a id="pro_id00394"/><pre class="programlisting">import logging
logging.basicConfig(level=logging.DEBUG, format=' %(asctime)s - %(levelname)s
- %(message)s')
logging.debug('Start of program')

def factorial(n):
    logging.debug('Start of factorial(%s%%)' % (n))
    total = 1
    for i in range(n + 1):
        total *= i
        logging.debug('i is ' + str(i) + ', total is ' + str(total))
    logging.debug('End of factorial(%s%%)' % (n))
    return total

print(factorial(5))
logging.debug('End of program')</pre><p><a id="iddle1283" class="indexterm"/>Here, we use the <code class="literal">logging.debug()</code> function when we want to print log information. This <code class="literal">debug()</code> function will call <code class="literal">basicConfig()</code>, and a line of information will be printed. This information will be in the format we specified in <code class="literal">basicConfig()</code> and will include the messages we passed to <code class="literal">debug()</code>. The <code class="literal">print(factorial(5))</code> call is part of the original program, so the result is displayed even if logging messages are disabled.</p><p>The output of this program looks like this:</p><a id="pro_id00395"/><pre class="programlisting">2015-05-23 16:20:12,664 - DEBUG - Start of program
2015-05-23 16:20:12,664 - DEBUG - Start of factorial(5)
2015-05-23 16:20:12,665 - DEBUG - i is 0, total is 0
2015-05-23 16:20:12,668 - DEBUG - i is 1, total is 0
2015-05-23 16:20:12,670 - DEBUG - i is 2, total is 0
2015-05-23 16:20:12,673 - DEBUG - i is 3, total is 0
2015-05-23 16:20:12,675 - DEBUG - i is 4, total is 0
2015-05-23 16:20:12,678 - DEBUG - i is 5, total is 0
2015-05-23 16:20:12,680 - DEBUG - End of factorial(5)
0
2015-05-23 16:20:12,684 - DEBUG - End of program</pre><p>The <code class="literal">factorial()</code> function is returning <code class="literal">0</code> as the factorial of <code class="literal">5</code>, which isn’t right. The <code class="literal">for</code> loop should be multiplying the value in <code class="literal">total</code> by the numbers from <code class="literal">1</code> to <code class="literal">5</code>. But the log messages displayed by <code class="literal">logging.debug()</code> show that the <code class="literal">i</code> variable is starting at <code class="literal">0</code> instead of <code class="literal">1</code>. Since zero times anything is zero, the rest of the iterations also have the wrong value for <code class="literal">total</code>. Logging messages provide a trail of breadcrumbs that can help you figure out when things started to go wrong.</p><p>Change the <code class="literal">for i in range(n + 1):</code> line to <code class="literal">for i in range(</code><span class="strong"><strong><code class="literal">1,</code></strong></span> <code class="literal">n + 1):</code>, and run the program again. The output will look like this:</p><a id="pro_id00396"/><pre class="programlisting">2015-05-23 17:13:40,650 - DEBUG - Start of program
2015-05-23 17:13:40,651 - DEBUG - Start of factorial(5)
2015-05-23 17:13:40,651 - DEBUG - i is 1, total is 1
2015-05-23 17:13:40,654 - DEBUG - i is 2, total is 2
2015-05-23 17:13:40,656 - DEBUG - i is 3, total is 6
2015-05-23 17:13:40,659 - DEBUG - i is 4, total is 24
2015-05-23 17:13:40,661 - DEBUG - i is 5, total is 120
2015-05-23 17:13:40,661 - DEBUG - End of factorial(5)
120
2015-05-23 17:13:40,666 - DEBUG - End of program</pre><p><a id="iddle1292" class="indexterm"/><a id="iddle1294" class="indexterm"/><a id="iddle1296" class="indexterm"/><a id="iddle1725" class="indexterm"/><a id="iddle1869" class="indexterm"/><a id="iddle1870" class="indexterm"/><a id="iddle2150" class="indexterm"/><a id="iddle2652" class="indexterm"/>The <code class="literal">factorial(5)</code> call correctly returns <code class="literal">120</code>. The log messages showed what was going on inside the loop, which led straight to the bug.</p><p>You can see that the <code class="literal">logging.debug()</code> calls printed out not just the strings passed to them but also a timestamp and the word <span class="emphasis"><em>DEBUG</em></span>.</p></div><div class="sect2" title="Don’t Debug with print()"><div class="titlepage"><div><div><h2 class="title"><a id="donapostrophet_debug_with_printleft_pare"/>Don’t Debug with print()</h2></div></div></div><p>Typing <code class="literal">import logging</code> and <code class="literal">logging.basicConfig(level=logging.DEBUG, format= '%(asctime)s - %(levelname)s - %(message)s')</code> is somewhat unwieldy. You may want to use <code class="literal">print()</code> calls instead, but don’t give in to this temptation! Once you’re done debugging, you’ll end up spending a lot of time removing <code class="literal">print()</code> calls from your code for each log message. You might even accidentally remove some <code class="literal">print()</code> calls that were being used for nonlog messages. The nice thing about log messages is that you’re free to fill your program with as many as you like, and you can always disable them later by adding a single <code class="literal">logging.disable(logging.CRITICAL)</code> call. Unlike <code class="literal">print()</code>, the <code class="literal">logging</code> module makes it easy to switch between showing and hiding log messages.</p><p>Log messages are intended for the programmer, not the user. The user won’t care about the contents of some dictionary value you need to see to help with debugging; use a log message for something like that. For messages that the user will want to see, like <span class="emphasis"><em>File not found</em></span> or <span class="emphasis"><em>Invalid input, please enter a number</em></span>, you should use a <code class="literal">print()</code> call. You don’t want to deprive the user of useful information after you’ve disabled log messages.</p></div><div class="sect2" title="Logging Levels"><div class="titlepage"><div><div><h2 class="title"><a id="logging_levels"/>Logging Levels</h2></div></div></div><p><span class="emphasis"><em>Logging levels</em></span> provide a way to categorize your log messages by importance. There are five logging levels, described in <a class="xref" href="ch10.html#logging_levels_in_python" title="Table 10-1. Logging Levels in Python">Table 10-1</a> from least to most important. Messages can be logged at each level using a different logging function.</p><div class="table"><a id="logging_levels_in_python"/><p class="title">Table 10-1. Logging Levels in Python</p><div class="table-contents"><table summary="Logging Levels in Python" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col/><col/><col/></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Level</p></th><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Logging Function</p></th><th style="border-bottom: 0.5pt solid ; " valign="top"><p>Description</p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>DEBUG</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">logging.debug()</code></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>The lowest level. Used for small details. Usually you care about these messages only when diagnosing problems.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>INFO</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">logging.info()</code></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Used to record information on general events in your program or confirm that things are working at their point in the program.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>WARNING</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">logging.warning()</code></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Used to indicate a potential problem that doesn’t prevent the program from working but might do so in the future.<a id="iddle1231" class="indexterm"/><a id="iddle1290" class="indexterm"/><a id="iddle1339" class="indexterm"/><a id="iddle1413" class="indexterm"/><a id="iddle1867" class="indexterm"/></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>ERROR</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">logging.error()</code></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Used to record an error that caused the program to fail to do something.</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p>CRITICAL</p></td><td style="border-right: 0.5pt solid ; " valign="top"><p><code class="literal">logging.critical()</code></p></td><td style="" valign="top"><p>The highest level. Used to indicate a fatal error that has caused or is about to cause the program to stop running entirely.</p></td></tr></tbody></table></div></div><p>Your logging message is passed as a string to these functions. The logging levels are suggestions. Ultimately, it is up to you to decide which category your log message falls into. Enter the following into the interactive shell:</p><a id="pro_id00397"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>import logging</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>logging.basicConfig(level=logging.DEBUG, format=' %(asctime)s -</strong></span>
<span class="strong"><strong>%(levelname)s - %(message)s')</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>logging.debug('Some debugging details.')</strong></span>
2015-05-18 19:04:26,901 - DEBUG - Some debugging details.
&gt;&gt;&gt; <span class="strong"><strong>logging.info('The logging module is working.')</strong></span>
2015-05-18 19:04:35,569 - INFO - The logging module is working.
&gt;&gt;&gt; <span class="strong"><strong>logging.warning('An error message is about to be logged.')</strong></span>
2015-05-18 19:04:56,843 - WARNING - An error message is about to be logged.
&gt;&gt;&gt; <span class="strong"><strong>logging.error('An error has occurred.')</strong></span>
2015-05-18 19:05:07,737 - ERROR - An error has occurred.
&gt;&gt;&gt; <span class="strong"><strong>logging.critical('The program is unable to recover!')</strong></span>
2015-05-18 19:05:45,794 - CRITICAL - The program is unable to recover!</pre><p>The benefit of logging levels is that you can change what priority of logging message you want to see. Passing <code class="literal">logging.DEBUG</code> to the <code class="literal">basicConfig()</code> function’s <code class="literal">level</code> keyword argument will show messages from all the logging levels (DEBUG being the lowest level). But after developing your program some more, you may be interested only in errors. In that case, you can set <code class="literal">basicConfig()</code>’s <code class="literal">level</code> argument to <code class="literal">logging.ERROR</code>. This will show only ERROR and CRITICAL messages and skip the DEBUG, INFO, and WARNING messages.</p></div><div class="sect2" title="Disabling Logging"><div class="titlepage"><div><div><h2 class="title"><a id="disabling_logging"/>Disabling Logging</h2></div></div></div><p>After you’ve debugged your program, you probably don’t want all these log messages cluttering the screen. The <code class="literal">logging.disable()</code> function disables these so that you don’t have to go into your program and remove all the logging calls by hand. You simply pass <code class="literal">logging.disable()</code> a logging level, and it will suppress all log messages at that level or lower. So if you want to disable logging entirely, just add <code class="literal">logging.disable(logging.CRITICAL)</code> to your program. For example, enter the following into the interactive shell:</p><a id="pro_id00398"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>import logging</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>logging.basicConfig(level=logging.INFO, format=' %(asctime)s -</strong></span>
<span class="strong"><strong>%(levelname)s - %(message)s')</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>logging.critical('Critical error! Critical error!')</strong></span>
2015-05-22 11:10:48,054 - CRITICAL - Critical error! Critical error!
&gt;&gt;&gt; <span class="strong"><strong>logging.disable(logging.CRITICAL)</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>logging.critical('Critical error! Critical error!')</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>logging.error('Error! Error!')</strong></span></pre><p><a id="iddle1287" class="indexterm"/><a id="iddle1291" class="indexterm"/><a id="iddle1663" class="indexterm"/><a id="iddle1868" class="indexterm"/>Since <code class="literal">logging.disable()</code> will disable all messages after it, you will probably want to add it near the <code class="literal">import logging</code> line of code in your program. This way, you can easily find it to comment out or uncomment that call to enable or disable logging messages as needed.</p></div><div class="sect2" title="Logging to a File"><div class="titlepage"><div><div><h2 class="title"><a id="logging_to_a_file"/>Logging to a File</h2></div></div></div><p>Instead of displaying the log messages to the screen, you can write them to a text file. The <code class="literal">logging.basicConfig()</code> function takes a <code class="literal">filename</code> keyword argument, like so:</p><a id="pro_id00399"/><pre class="programlisting">import logging
logging.basicConfig(<span class="strong"><strong>filename='myProgramLog.txt'</strong></span>, level=logging.DEBUG, format='
%(asctime)s - %(levelname)s - %(message)s')</pre><p>The log messages will be saved to <span class="emphasis"><em>myProgramLog.txt</em></span>. While logging messages are helpful, they can clutter your screen and make it hard to read the program’s output. Writing the logging messages to a file will keep your screen clear and store the messages so you can read them after running the program. You can open this text file in any text editor, such as Notepad or TextEdit.</p></div></div><div class="sect1" title="IDLE’s Debugger"><div class="titlepage"><div><div><h1 class="title"><a id="idleapostrophes_debugger"/>IDLE’s Debugger</h1></div></div></div><p>The <span class="emphasis"><em>debugger</em></span> is a feature of IDLE that allows you to execute your program one line at a time. The debugger will run a single line of code and then wait for you to tell it to continue. By running your program “under the debugger” like this, you can take as much time as you want to examine the values in the variables at any given point during the program’s lifetime. This is a valuable tool for tracking down bugs.</p><p>To enable IDLE’s debugger, click <span class="strong"><strong>Debug</strong></span>▸<span class="strong"><strong>Debugger</strong></span> in the interactive shell window. This will bring up the Debug Control window, which looks like <a class="xref" href="ch10.html#debug_control_window" title="Figure 10-1. The Debug Control window">Figure 10-1</a>.</p><p>When the Debug Control window appears, select all four of the <span class="strong"><strong>Stack</strong></span>, <span class="strong"><strong>Locals</strong></span>, <span class="strong"><strong>Source</strong></span>, and <span class="strong"><strong>Globals</strong></span> checkboxes so that the window shows the full set of debug information. While the Debug Control window is displayed, any time you run a program from the file editor, the debugger will pause execution before the first instruction and display the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The line of code that is about to be executed</p></li><li class="listitem"><p>A list of all local variables and their values</p></li><li class="listitem"><p>A list of all global variables and their values</p></li></ul></div><div class="figure"><a id="debug_control_window"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00040"/><img src="figs/web/10fig01.png.jpg" alt="The Debug Control window"/></div></div><p class="title">Figure 10-1. The Debug Control window</p></div><p>You’ll notice that in the list of global variables there are several variables you haven’t defined, such as <code class="literal">__builtins__</code>, <code class="literal">__doc__</code>, <code class="literal">__file__</code>, and so on. These are variables that Python automatically sets whenever it runs a program. The meaning of these variables is beyond the scope of this book, and you can comfortably ignore them.</p><p>The program will stay paused until you press one of the five buttons in the Debug Control window: Go, Step, Over, Out, or Quit.</p><div class="sect2" title="Go"><div class="titlepage"><div><div><h2 class="title"><a id="go"/>Go</h2></div></div></div><p>Clicking the Go button will cause the program to execute normally until it terminates or reaches a <span class="emphasis"><em>breakpoint</em></span>. (Breakpoints are described later in this chapter.) If you are done debugging and want the program to continue normally, click the <span class="strong"><strong>Go</strong></span> button.</p></div><div class="sect2" title="Step"><div class="titlepage"><div><div><h2 class="title"><a id="step"/>Step</h2></div></div></div><p>Clicking the Step button will cause the debugger to execute the next line of code and then pause again. The Debug Control window’s list of global and local variables will be updated if their values change. If the next line of code is a function call, the debugger will “step into” that function and jump to the first line of code of that function.</p></div><div class="sect2" title="Over"><div class="titlepage"><div><div><h2 class="title"><a id="over"/>Over</h2></div></div></div><p>Clicking the Over button will execute the next line of code, similar to the Step button. However, if the next line of code is a function call, the Over button will “step over” the code in the function. The function’s code will be executed at full speed, and the debugger will pause as soon as the function call returns. For example, if the next line of code is a <code class="literal">print()</code> call, you don’t <a id="iddle1288" class="indexterm"/><a id="iddle1664" class="indexterm"/>really care about code inside the built-in <code class="literal">print()</code> function; you just want the string you pass it printed to the screen. For this reason, using the Over button is more common than the Step button.</p></div><div class="sect2" title="Out"><div class="titlepage"><div><div><h2 class="title"><a id="out"/>Out</h2></div></div></div><p>Clicking the Out button will cause the debugger to execute lines of code at full speed until it returns from the current function. If you have stepped into a function call with the Step button and now simply want to keep executing instructions until you get back out, click the <span class="strong"><strong>Out</strong></span> button to “step out” of the current function call.</p></div><div class="sect2" title="Quit"><div class="titlepage"><div><div><h2 class="title"><a id="quit"/>Quit</h2></div></div></div><p>If you want to stop debugging entirely and not bother to continue executing the rest of the program, click the <span class="strong"><strong>Quit</strong></span> button. The Quit button will immediately terminate the program. If you want to run your program normally again, select <span class="strong"><strong>Debug</strong></span>▸<span class="strong"><strong>Debugger</strong></span> again to disable the debugger.</p></div><div class="sect2" title="Debugging a Number Adding Program"><div class="titlepage"><div><div><h2 class="title"><a id="debugging_a_number_adding_program"/>Debugging a Number Adding Program</h2></div></div></div><p>Open a new file editor window and enter the following code:</p><a id="pro_id00400"/><pre class="programlisting">print('Enter the first number to add:')
first = input()
print('Enter the second number to add:')
second = input()
print('Enter the third number to add:')
third = input()
print('The sum is ' + first + second + third)</pre><p>Save it as <span class="emphasis"><em>buggyAddingProgram.py</em></span> and run it first without the debugger enabled. The program will output something like this:</p><a id="pro_id00401"/><pre class="programlisting">Enter the first number to add:
<span class="strong"><strong>5</strong></span>
Enter the second number to add:
<span class="strong"><strong>3</strong></span>
Enter the third number to add:
<span class="strong"><strong>42</strong></span>
The sum is 5342</pre><p>The program hasn’t crashed, but the sum is obviously wrong. Let’s enable the Debug Control window and run it again, this time under the debugger.</p><p>When you press F5 or select <span class="strong"><strong>Run</strong></span>▸<span class="strong"><strong>Run Module</strong></span> (with <span class="strong"><strong>Debug</strong></span>▸<span class="strong"><strong>Debugger</strong></span> enabled and all four checkboxes on the Debug Control window checked), the program starts in a paused state on line 1. The debugger will always pause on the line of code it is about to execute. The Debug Control window will look like <a class="xref" href="ch10.html#debug_control_window_when_the_program_fi" title="Figure 10-2. The Debug Control window when the program first starts under the debugger">Figure 10-2</a>.</p><div class="figure"><a id="debug_control_window_when_the_program_fi"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00041"/><img src="figs/web/10fig02.png.jpg" alt="The Debug Control window when the program first starts under the debugger"/></div></div><p class="title">Figure 10-2. The Debug Control window when the program first starts under the debugger</p></div><p>Click the <span class="strong"><strong>Over</strong></span> button once to execute the first <code class="literal">print()</code> call. You should use Over instead of Step here, since you don’t want to step into the code for the <code class="literal">print()</code> function. The Debug Control window will update to line 2, and line 2 in the file editor window will be highlighted, as shown in <a class="xref" href="ch10.html#debug_control_window_after_clicking_over" title="Figure 10-3. The Debug Control window after clicking Over">Figure 10-3</a>. This shows you where the program execution currently is.</p><div class="figure"><a id="debug_control_window_after_clicking_over"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00042"/><img src="figs/web/10fig03.png.jpg" alt="The Debug Control window after clicking Over"/></div></div><p class="title">Figure 10-3. The Debug Control window after clicking Over</p></div><p><a id="iddle1134" class="indexterm"/><a id="iddle1289" class="indexterm"/><a id="iddle1665" class="indexterm"/>Click <span class="strong"><strong>Over</strong></span> again to execute the <code class="literal">input()</code> function call, and the buttons in the Debug Control window will disable themselves while IDLE waits for you to type something for the <code class="literal">input()</code> call into the interactive shell window. Enter <span class="strong"><strong><code class="literal">5</code></strong></span> and press Return. The Debug Control window buttons will be reenabled.</p><p>Keep clicking <span class="strong"><strong>Over</strong></span>, entering <span class="strong"><strong><code class="literal">3</code></strong></span> and <span class="strong"><strong><code class="literal">42</code></strong></span> as the next two numbers, until the debugger is on line 7, the final <code class="literal">print()</code> call in the program. The Debug Control window should look like <a class="xref" href="ch10.html#debug_control_window_on_the_last_line" title="Figure 10-4. The Debug Control window on the last line. The variables are set to strings, causing the bug.">Figure 10-4</a>. You can see in the Globals section that the first, second, and third variables are set to string values <code class="literal">'5'</code>, <code class="literal">'3'</code>, and <code class="literal">'42'</code> instead of integer values <code class="literal">5</code>, <code class="literal">3</code>, and <code class="literal">42</code>. When the last line is executed, these strings are concatenated instead of added together, causing the bug.</p><div class="figure"><a id="debug_control_window_on_the_last_line"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00043"/><img src="figs/web/10fig04.png.jpg" alt="The Debug Control window on the last line. The variables are set to strings, causing the bug."/></div></div><p class="title">Figure 10-4. The Debug Control window on the last line. The variables are set to strings, causing the bug.</p></div><p>Stepping through the program with the debugger is helpful but can also be slow. Often you’ll want the program to run normally until it reaches a certain line of code. You can configure the debugger to do this with breakpoints.</p></div><div class="sect2" title="Breakpoints"><div class="titlepage"><div><div><h2 class="title"><a id="breakpoints"/>Breakpoints</h2></div></div></div><p>A <span class="emphasis"><em>breakpoint</em></span> can be set on a specific line of code and forces the debugger to pause whenever the program execution reaches that line. Open a new file editor window and enter the following program, which simulates flipping a coin 1,000 times. Save it as <span class="emphasis"><em>coinFlip.py</em></span>.</p><a id="pro_id00402"/><pre class="programlisting">   import random
   heads = 0
   for i in range(1, 1001):
➊     if random.randint(0, 1) == 1:
           heads = heads + 1
       if i == 500:
➋         print('Halfway done!')
   print('Heads came up ' + str(heads) + ' times.')</pre><p>The <code class="literal">random.randint(0, 1)</code> call ➊ will return <code class="literal">0</code> half of the time and <code class="literal">1</code> the other half of the time. This can be used to simulate a 50/50 coin flip where <code class="literal">1</code> represents heads. When you run this program without the debugger, it quickly outputs something like the following:</p><a id="pro_id00403"/><pre class="programlisting">Halfway done!
Heads came up 490 times.</pre><p>If you ran this program under the debugger, you would have to click the Over button thousands of times before the program terminated. If you were interested in the value of <code class="literal">heads</code> at the halfway point of the program’s execution, when 500 of 1000 coin flips have been completed, you could instead just set a breakpoint on the line <code class="literal">print('Halfway done!')</code> ➋. To set a breakpoint, right-click the line in the file editor and select <span class="strong"><strong>Set Breakpoint</strong></span>, as shown in <a class="xref" href="ch10.html#setting_a_breakpoint" title="Figure 10-5. Setting a breakpoint">Figure 10-5</a>.</p><div class="figure"><a id="setting_a_breakpoint"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00044"/><img src="figs/web/10fig05.png.jpg" alt="Setting a breakpoint"/></div></div><p class="title">Figure 10-5. Setting a breakpoint</p></div><p>You don’t want to set a breakpoint on the <code class="literal">if</code> statement line, since the <code class="literal">if</code> statement is executed on every single iteration through the loop. By setting the breakpoint on the code in the <code class="literal">if</code> statement, the debugger breaks only when the execution enters the <code class="literal">if</code> clause.</p><p>The line with the breakpoint will be highlighted in yellow in the file editor. When you run the program under the debugger, it will start in a paused state at the first line, as usual. But if you click Go, the program will run at full speed until it reaches the line with the breakpoint set on it. You can then click Go, Over, Step, or Out to continue as normal.</p><p>If you want to remove a breakpoint, right-click the line in the file editor and select <span class="strong"><strong>Clear Breakpoint</strong></span> from the menu. The yellow highlighting will go away, and the debugger will not break on that line in the future.</p></div></div><div class="sect1" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="summary-id00031"/>Summary</h1></div></div></div><p>Assertions, exceptions, logging, and the debugger are all valuable tools to find and prevent bugs in your program. Assertions with the Python <code class="literal">assert</code> statement are a good way to implement “sanity checks” that give you an early warning when a necessary condition doesn’t hold true. Assertions are only for errors that the program shouldn’t try to recover from and should fail fast. Otherwise, you should raise an exception.</p><p>An exception can be caught and handled by the <code class="literal">try</code> and <code class="literal">except</code> statements. The <code class="literal">logging</code> module is a good way to look into your code while it’s running and is much more convenient to use than the <code class="literal">print()</code> function because of its different logging levels and ability to log to a text file.</p><p>The debugger lets you step through your program one line at a time. Alternatively, you can run your program at normal speed and have the debugger pause execution whenever it reaches a line with a breakpoint set. Using the debugger, you can see the state of any variable’s value at any point during the program’s lifetime.</p><p>These debugging tools and techniques will help you write programs that work. Accidentally introducing bugs into your code is a fact of life, no matter how many years of coding experience you have.</p></div><div class="sect1" title="Practice Questions"><div class="titlepage"><div><div><h1 class="title"><a id="practice_questions-id00032"/>Practice Questions</h1></div></div></div><div class="qandaset" title="Frequently Asked Questions"><a id="ch10qa1"/><table border="0" width="100%" summary="Q and A Set"><col align="left" width="1%"/><col/><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe1"/><a id="ch10qa1q1"/><p>Q:</p></td><td align="left" valign="top"><p>1. Write an <code class="literal">assert</code> statement that triggers an <code class="literal">AssertionError</code> if the variable <code class="literal">spam</code> is an integer less than <code class="literal">10</code>.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe2"/><a id="ch10qa1q2"/><p>Q:</p></td><td align="left" valign="top"><p>2. Write an <code class="literal">assert</code> statement that triggers an <code class="literal">AssertionError</code> if the variables <code class="literal">eggs</code> and <code class="literal">bacon</code> contain strings that are the same as each other, even if their cases are different (that is, <code class="literal">'hello'</code> and <code class="literal">'hello'</code> are considered the same, and <code class="literal">'goodbye'</code> and <code class="literal">'GOODbye'</code> are also considered the same).</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe3"/><a id="ch10qa1q3"/><p>Q:</p></td><td align="left" valign="top"><p>3. Write an <code class="literal">assert</code> statement that <span class="emphasis"><em>always</em></span> triggers an <code class="literal">AssertionError</code>.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe4"/><a id="ch10qa1q4"/><p>Q:</p></td><td align="left" valign="top"><p>4. What are the two lines that your program must have in order to be able to call <code class="literal">logging.debug()</code>?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe5"/><a id="ch10qa1q5"/><p>Q:</p></td><td align="left" valign="top"><p>5. What are the two lines that your program must have in order to have <code class="literal">logging.debug()</code> send a logging message to a file named <span class="emphasis"><em>programLog.txt</em></span>?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe6"/><a id="ch10qa1q6"/><p>Q:</p></td><td align="left" valign="top"><p>6. What are the five logging levels?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe7"/><a id="ch10qa1q7"/><p>Q:</p></td><td align="left" valign="top"><p>7. What line of code can you add to disable all logging messages in your program?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe8"/><a id="ch10qa1q8"/><p>Q:</p></td><td align="left" valign="top"><p>8. Why is using logging messages better than using <code class="literal">print()</code> to display the same message?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe9"/><a id="ch10qa1q9"/><p>Q:</p></td><td align="left" valign="top"><p>9. What are the differences between the Step, Over, and Out buttons in the Debug Control window?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe10"/><a id="ch10qa1q10"/><p>Q:</p></td><td align="left" valign="top"><p>10. After you click Go in the Debug Control window, when will the debugger stop?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe11"/><a id="ch10qa1q11"/><p>Q:</p></td><td align="left" valign="top"><p>11. What is a breakpoint?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch10qa1qe12"/><a id="ch10qa1q12"/><p>Q:</p></td><td align="left" valign="top"><p>12. How do you set a breakpoint on a line of code in IDLE?</p></td></tr></tbody></table></div></div><div class="sect1" title="Practice Project"><div class="titlepage"><div><div><h1 class="title"><a id="practice_project-id00033"/>Practice Project</h1></div></div></div><p>For practice, write a program that does the following.</p><div class="sect2" title="Debugging Coin Toss"><div class="titlepage"><div><div><h2 class="title"><a id="debugging_coin_toss"/>Debugging Coin Toss</h2></div></div></div><p>The following program is meant to be a simple coin toss guessing game. The player gets two guesses (it’s an easy game). However, the program has several bugs in it. Run through the program a few times to find the bugs that keep the program from working correctly.</p><a id="pro_id00404"/><pre class="programlisting">import random
guess = ''
while guess not in ('heads', 'tails'):
    print('Guess the coin toss! Enter heads or tails:')
    guess = input()
toss = random.randint(0, 1) # 0 is tails, 1 is heads
if toss == guess:
    print('You got it!')
else:
    print('Nope! Guess again!')
    guesss = input()
    if toss == guess:
       print('You got it!')
    else:
        print('Nope. You are really bad at this game.')</pre></div></div></div></body></html>
