<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 6. Manipulating Strings</title><link rel="stylesheet" href="core.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"/></head><body><div class="chapter" title="Chapter 6. Manipulating Strings"><div class="titlepage"><div><div><h1 class="title"><a id="manipulating_strings"/>Chapter 6. Manipulating Strings</h1></div></div></div><p>Text is one of the most common forms of data your programs will handle. You already know how to concatenate two string values together with the <code class="literal">+</code> operator, but you can do much more than that. You can extract partial strings from string values, add or remove spacing, convert letters to lowercase or uppercase, and check that strings are formatted correctly. You can even write Python code to access the clipboard for copying and pasting text.</p><p>In this chapter, you’ll learn all this and more. Then you’ll work through two different programming projects: a simple password manager and a program to automate the boring chore of formatting pieces of text.</p><div class="sect1" title="Working with Strings"><div class="titlepage"><div><div><h1 class="title"><a id="working_with_strings"/>Working with Strings</h1></div></div></div><p>Let’s look at some of the ways Python lets you write, print, and access strings in your code.</p><div class="sect2" title="String Literals"><div class="titlepage"><div><div><h2 class="title"><a id="string_literals"/>String Literals</h2></div></div></div><p><a id="iddle1003" class="indexterm"/><a id="iddle1025" class="indexterm"/><a id="iddle1056" class="indexterm"/><a id="iddle1108" class="indexterm"/><a id="iddle1351" class="indexterm"/><a id="iddle1416" class="indexterm"/><a id="iddle2432" class="indexterm"/><a id="iddle2491" class="indexterm"/><a id="iddle2493" class="indexterm"/><a id="iddle2506" class="indexterm"/>Typing string values in Python code is fairly straightforward: They begin and end with a single quote. But then how can you use a quote inside a string? Typing <span class="strong"><strong><code class="literal">'That is Alice's cat.'</code></strong></span> won’t work, because Python thinks the string ends after <code class="literal">Alice</code>, and the rest (<code class="literal">s cat.'</code>) is invalid Python code. Fortunately, there are multiple ways to type strings.</p><div class="sect3" title="Double Quotes"><div class="titlepage"><div><div><h3 class="title"><a id="double_quotes"/>Double Quotes</h3></div></div></div><p>Strings can begin and end with double quotes, just as they do with single quotes. One benefit of using double quotes is that the string can have a single quote character in it. Enter the following into the interactive shell:</p><a id="pro_id00226"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>spam = "That is Alice's cat."</strong></span></pre><p>Since the string begins with a double quote, Python knows that the single quote is part of the string and not marking the end of the string. However, if you need to use both single quotes and double quotes in the string, you’ll need to use escape characters.</p></div><div class="sect3" title="Escape Characters"><div class="titlepage"><div><div><h3 class="title"><a id="escape_characters"/>Escape Characters</h3></div></div></div><p>An <span class="emphasis"><em>escape character</em></span> lets you use characters that are otherwise impossible to put into a string. An escape character consists of a backslash (<code class="literal">\</code>) followed by the character you want to add to the string. (Despite consisting of two characters, it is commonly referred to as a singular escape character.) For example, the escape character for a single quote is <code class="literal">\'</code>. You can use this inside a string that begins and ends with single quotes. To see how escape characters work, enter the following into the interactive shell:</p><a id="pro_id00227"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>spam = 'Say hi to Bob\'s mother.'</strong></span></pre><p>Python knows that since the single quote in <code class="literal">Bob\'s</code> has a backslash, it is not a single quote meant to end the string value. The escape characters <code class="literal">\'</code> and <code class="literal">\"</code> let you put single quotes and double quotes inside your strings, respectively.</p><p><a class="xref" href="ch06.html#escape_characters-id00017" title="Table 6-1. Escape Characters">Table 6-1</a> lists the escape characters you can use.</p><div class="table"><a id="escape_characters-id00017"/><p class="title">Table 6-1. Escape Characters</p><div class="table-contents"><table summary="Escape Characters" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col/><col/></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Escape character</p></th><th style="border-bottom: 0.5pt solid ; " valign="top"><p>Prints as</p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">\'</code></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Single quote</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">\"</code></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Double quote</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">\t</code></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Tab</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">\n</code></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Newline (line break)</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p><code class="literal">\\</code></p></td><td style="" valign="top"><p>Backslash</p></td></tr></tbody></table></div></div><p><a id="iddle1064" class="indexterm"/><a id="iddle1983" class="indexterm"/><a id="iddle2286" class="indexterm"/><a id="iddle2510" class="indexterm"/><a id="iddle2514" class="indexterm"/><a id="iddle2587" class="indexterm"/>Enter the following into the interactive shell:</p><a id="pro_id00228"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>print("Hello there!\nHow are you?\nI\'m doing fine.")</strong></span>
Hello there!
How are you?
I'm doing fine.</pre></div><div class="sect3" title="Raw Strings"><div class="titlepage"><div><div><h3 class="title"><a id="raw_strings"/>Raw Strings</h3></div></div></div><p>You can place an <code class="literal">r</code> before the beginning quotation mark of a string to make it a raw string. A <span class="emphasis"><em>raw string</em></span> completely ignores all escape characters and prints any backslash that appears in the string. For example, type the following into the interactive shell:</p><a id="pro_id00229"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>print(r'That is Carol\'s cat.')</strong></span>
That is Carol\'s cat.</pre><p>Because this is a raw string, Python considers the backslash as part of the string and not as the start of an escape character. Raw strings are helpful if you are typing string values that contain many backslashes, such as the strings used for regular expressions described in the next chapter.</p></div><div class="sect3" title="Multiline Strings with Triple Quotes"><div class="titlepage"><div><div><h3 class="title"><a id="multiline_strings_with_triple_quotes"/>Multiline Strings with Triple Quotes</h3></div></div></div><p>While you can use the <code class="literal">\n</code> escape character to put a newline into a string, it is often easier to use multiline strings. A multiline string in Python begins and ends with either three single quotes or three double quotes. Any quotes, tabs, or newlines in between the “triple quotes” are considered part of the string. Python’s indentation rules for blocks do not apply to lines inside a multiline string.</p><p>Open the file editor and write the following:</p><a id="pro_id00230"/><pre class="programlisting">print('''Dear Alice,

Eve's cat has been arrested for catnapping, cat burglary, and extortion.

Sincerely,
Bob''')</pre><p>Save this program as <span class="emphasis"><em>catnapping.py</em></span> and run it. The output will look like this:</p><a id="pro_id00231"/><pre class="programlisting">Dear Alice,

Eve's cat has been arrested for catnapping, cat burglary, and extortion.

Sincerely,
Bob</pre><p><a id="iddle1034" class="indexterm"/><a id="iddle1196" class="indexterm"/><a id="iddle1646" class="indexterm"/><a id="iddle1719" class="indexterm"/><a id="iddle1982" class="indexterm"/><a id="iddle2440" class="indexterm"/><a id="iddle2496" class="indexterm"/><a id="iddle2518" class="indexterm"/>Notice that the single quote character in <code class="literal">Eve's</code> does not need to be escaped. Escaping single and double quotes is optional in multiline strings. The following <code class="literal">print()</code> call would print identical text but doesn’t use a multiline string:</p><a id="pro_id00232"/><pre class="programlisting">print('Dear Alice,\n\nEve\'s cat has been arrested for catnapping, cat
burglary, and extortion.\n\nSincerely,\nBob')</pre></div><div class="sect3" title="Multiline Comments"><div class="titlepage"><div><div><h3 class="title"><a id="multiline_comments"/>Multiline Comments</h3></div></div></div><p>While the hash character (<code class="literal">#</code>) marks the beginning of a comment for the rest of the line, a multiline string is often used for comments that span multiple lines. The following is perfectly valid Python code:</p><a id="pro_id00233"/><pre class="programlisting">"""This is a test Python program.
Written by Al Sweigart al@inventwithpython.com

This program was designed for Python 3, not Python 2.
"""

def spam():
    """This is a multiline comment to help
    explain what the spam() function does."""
    print('Hello!')</pre></div></div><div class="sect2" title="Indexing and Slicing Strings"><div class="titlepage"><div><div><h2 class="title"><a id="indexing_and_slicing_strings"/>Indexing and Slicing Strings</h2></div></div></div><p>Strings use indexes and slices the same way lists do. You can think of the string <code class="literal">'Hello world!'</code> as a list and each character in the string as an item with a corresponding index.</p><a id="pro_id00234"/><pre class="programlisting">'   H   e   l   l   o       w   o   r   l   d    !   '
    0   1   2   3   4   5   6   7   8   9   10   11</pre><p>The space and exclamation point are included in the character count, so <code class="literal">'Hello world!'</code> is 12 characters long, from <code class="literal">H</code> at index 0 to <code class="literal">!</code> at index 11.</p><p>Enter the following into the interactive shell:</p><a id="pro_id00235"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>spam = 'Hello world!'</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>spam[0]</strong></span>
'H'
&gt;&gt;&gt; <span class="strong"><strong>spam[4]</strong></span>
'o'
&gt;&gt;&gt; <span class="strong"><strong>spam[-1]</strong></span>
'!'
&gt;&gt;&gt; <span class="strong"><strong>spam[0:5]</strong></span>
'Hello'
&gt;&gt;&gt; <span class="strong"><strong>spam[:5]</strong></span>
'Hello'
&gt;&gt;&gt; <span class="strong"><strong>spam[6:]</strong></span>
'world!'</pre><p><a id="iddle1015" class="indexterm"/><a id="iddle1185" class="indexterm"/><a id="iddle1728" class="indexterm"/><a id="iddle2012" class="indexterm"/><a id="iddle2497" class="indexterm"/><a id="iddle2512" class="indexterm"/>If you specify an index, you’ll get the character at that position in the string. If you specify a range from one index to another, the starting index is included and the ending index is not. That’s why, if spam is <code class="literal">'Hello world!'</code>, <code class="literal">spam[0:5]</code> is <code class="literal">'Hello'</code>. The substring you get from <code class="literal">spam[0:5]</code> will include everything from <code class="literal">spam[0]</code> to <code class="literal">spam[4]</code>, leaving out the space at index 5.</p><p>Note that slicing a string does not modify the original string. You can capture a slice from one variable in a separate variable. Try typing the following into the interactive shell:</p><a id="pro_id00236"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>spam = 'Hello world!'</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>fizz = spam[0:5]</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>fizz</strong></span>
'Hello'</pre><p>By slicing and storing the resulting substring in another variable, you can have both the whole string and the substring handy for quick, easy access.</p></div><div class="sect2" title="The in and not in Operators with Strings"><div class="titlepage"><div><div><h2 class="title"><a id="in_and_not_in_operators_with_strings"/>The in and not in Operators with Strings</h2></div></div></div><p>The <code class="literal">in</code> and <code class="literal">not in</code> operators can be used with strings just like with list values. An expression with two strings joined using <code class="literal">in</code> or <code class="literal">not in</code> will evaluate to a Boolean <code class="literal">True</code> or <code class="literal">False</code>. Enter the following into the interactive shell:</p><a id="pro_id00237"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>'Hello' in 'Hello World'</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'Hello' in 'Hello'</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'HELLO' in 'Hello World'</strong></span>
False
&gt;&gt;&gt; <span class="strong"><strong>'' in 'spam'</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'cats' not in 'cats and dogs'</strong></span>
False</pre><p>These expressions test whether the first string (the exact string, case sensitive) can be found within the second string.</p></div></div><div class="sect1" title="Useful String Methods"><div class="titlepage"><div><div><h1 class="title"><a id="useful_string_methods"/>Useful String Methods</h1></div></div></div><p>Several string methods analyze strings or create transformed string values. This section describes the methods you’ll be using most often.</p><div class="sect2" title="The upper(), lower(), isupper(), and islower() String Methods"><div class="titlepage"><div><div><h2 class="title"><a id="upperleft_parenthesisright_parenthesisco"/>The upper(), lower(), isupper(), and islower() String Methods</h2></div></div></div><p><a id="iddle1755" class="indexterm"/><a id="iddle1759" class="indexterm"/><a id="iddle1890" class="indexterm"/><a id="iddle1927" class="indexterm"/><a id="iddle1930" class="indexterm"/><a id="iddle1933" class="indexterm"/><a id="iddle1941" class="indexterm"/><a id="iddle2501" class="indexterm"/><a id="iddle2504" class="indexterm"/><a id="iddle2508" class="indexterm"/><a id="iddle2523" class="indexterm"/><a id="iddle2625" class="indexterm"/>The <code class="literal">upper()</code> and <code class="literal">lower()</code> string methods return a new string where all the letters in the original string have been converted to uppercase or lower-case, respectively. Nonletter characters in the string remain unchanged. Enter the following into the interactive shell:</p><a id="pro_id00238"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>spam = 'Hello world!'</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>spam = spam.upper()</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>spam</strong></span>
'HELLO WORLD!'
&gt;&gt;&gt; <span class="strong"><strong>spam = spam.lower()</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>spam</strong></span>
'hello world!'</pre><p>Note that these methods do not change the string itself but return new string values. If you want to change the original string, you have to call <code class="literal">upper()</code> or <code class="literal">lower()</code> on the string and then assign the new string to the variable where the original was stored. This is why you must use <code class="literal">spam = spam.upper()</code> to change the string in <code class="literal">spam</code> instead of simply <code class="literal">spam.upper()</code>. (This is just like if a variable <code class="literal">eggs</code> contains the value <code class="literal">10</code>. Writing <code class="literal">eggs + 3</code> does not change the value of <code class="literal">eggs</code>, but <code class="literal">eggs = eggs + 3</code> does.)</p><p>The <code class="literal">upper()</code> and <code class="literal">lower()</code> methods are helpful if you need to make a case-insensitive comparison. The strings <code class="literal">'great'</code> and <code class="literal">'GREat'</code> are not equal to each other. But in the following small program, it does not matter whether the user types <code class="literal">Great</code>, <code class="literal">GREAT</code>, or <code class="literal">grEAT</code>, because the string is first converted to lowercase.</p><a id="pro_id00239"/><pre class="programlisting">print('How are you?')
feeling = input()
if feeling.lower() == 'great':
    print('I feel great too.')
else:
    print('I hope the rest of your day is good.')</pre><p>When you run this program, the question is displayed, and entering a variation on <code class="literal">great</code>, such as <code class="literal">GREat</code>, will still give the output <code class="literal">I feel great too</code>. Adding code to your program to handle variations or mistakes in user input, such as inconsistent capitalization, will make your programs easier to use and less likely to fail.</p><a id="pro_id00240"/><pre class="programlisting">How are you?
<span class="strong"><strong>GREat</strong></span>
I feel great too.</pre><p>The <code class="literal">isupper()</code> and <code class="literal">islower()</code> methods will return a Boolean <code class="literal">True</code> value if the string has at least one letter and all the letters are uppercase or <a id="iddle1748" class="indexterm"/><a id="iddle1749" class="indexterm"/><a id="iddle1750" class="indexterm"/><a id="iddle1924" class="indexterm"/><a id="iddle1925" class="indexterm"/><a id="iddle1926" class="indexterm"/><a id="iddle2498" class="indexterm"/><a id="iddle2499" class="indexterm"/><a id="iddle2500" class="indexterm"/>lowercase, respectively. Otherwise, the method returns <code class="literal">False</code>. Enter the following into the interactive shell, and notice what each method call returns:</p><a id="pro_id00241"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>spam = 'Hello world!'</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>spam.islower()</strong></span>
False
&gt;&gt;&gt; <span class="strong"><strong>spam.isupper()</strong></span>
False
&gt;&gt;&gt; <span class="strong"><strong>'HELLO'.isupper()</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'abc12345'.islower()</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'12345'.islower()</strong></span>
False
&gt;&gt;&gt; <span class="strong"><strong>'12345'.isupper()</strong></span>
False</pre><p>Since the <code class="literal">upper()</code> and <code class="literal">lower()</code> string methods themselves return strings, you can call string methods on <span class="emphasis"><em>those</em></span> returned string values as well. Expressions that do this will look like a chain of method calls. Enter the following into the interactive shell:</p><a id="pro_id00242"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>'Hello'.upper()</strong></span>
'HELLO'
&gt;&gt;&gt; <span class="strong"><strong>'Hello'.upper().lower()</strong></span>
'hello'
&gt;&gt;&gt; <span class="strong"><strong>'Hello'.upper().lower().upper()</strong></span>
'HELLO'
&gt;&gt;&gt; <span class="strong"><strong>'HELLO'.lower()</strong></span>
'hello'
&gt;&gt;&gt; <span class="strong"><strong>'HELLO'.lower().islower()</strong></span>
True</pre></div><div class="sect2" title="The isX String Methods"><div class="titlepage"><div><div><h2 class="title"><a id="isx_string_methods"/>The isX String Methods</h2></div></div></div><p>Along with <code class="literal">islower()</code> and <code class="literal">isupper()</code>, there are several string methods that have names beginning with the word <span class="emphasis"><em>is</em></span>. These methods return a Boolean value that describes the nature of the string. Here are some common <code class="literal">is</code><span class="emphasis"><em><code class="literal">X</code></em></span> string methods:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">isalpha()</code> returns <code class="literal">True</code> if the string consists only of letters and is not blank.</p></li><li class="listitem"><p><code class="literal">isalnum()</code> returns <code class="literal">True</code> if the string consists only of letters and numbers and is not blank.</p></li><li class="listitem"><p><code class="literal">isdecimal()</code> returns <code class="literal">True</code> if the string consists only of numeric characters and is not blank.</p></li><li class="listitem"><p><a id="iddle1757" class="indexterm"/><a id="iddle1758" class="indexterm"/><a id="iddle1928" class="indexterm"/><a id="iddle1929" class="indexterm"/><a id="iddle2502" class="indexterm"/><a id="iddle2503" class="indexterm"/><code class="literal">isspace()</code> returns <code class="literal">True</code> if the string consists only of spaces, tabs, and new-lines and is not blank.</p></li><li class="listitem"><p><code class="literal">istitle()</code> returns <code class="literal">True</code> if the string consists only of words that begin with an uppercase letter followed by only lowercase letters.</p></li></ul></div><p>Enter the following into the interactive shell:</p><a id="pro_id00243"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>'hello'.isalpha()</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'hello123'.isalpha()</strong></span>
False
&gt;&gt;&gt; <span class="strong"><strong>'hello123'.isalnum()</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'hello'.isalnum()</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'123'.isdecimal()</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'    '.isspace()</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'This Is Title Case'.istitle()</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'This Is Title Case 123'.istitle()</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'This Is not Title Case'.istitle()</strong></span>
False
&gt;&gt;&gt; <span class="strong"><strong>'This Is NOT Title Case Either'.istitle()</strong></span>
False</pre><p>The <code class="literal">is</code><span class="emphasis"><em><code class="literal">X</code></em></span> string methods are helpful when you need to validate user input. For example, the following program repeatedly asks users for their age and a password until they provide valid input. Open a new file editor window and enter this program, saving it as <span class="emphasis"><em>validateInput.py</em></span>:</p><a id="pro_id00244"/><pre class="programlisting">while True:
    print('Enter your age:')
    age = input()
    if age.isdecimal():
        break
    print('Please enter a number for your age.')

while True:
    print('Select a new password (letters and numbers only):')
    password = input()
    if password.isalnum():
        break
    print('Passwords can only have letters and numbers.')</pre><p>In the first <code class="literal">while</code> loop, we ask the user for their age and store their input in <code class="literal">age</code>. If <code class="literal">age</code> is a valid (decimal) value, we break out of this first <code class="literal">while</code> loop and move on to the second, which asks for a password. Otherwise, we inform the user that they need to enter a number and again ask them to <a id="iddle1407" class="indexterm"/><a id="iddle1764" class="indexterm"/><a id="iddle1923" class="indexterm"/><a id="iddle1931" class="indexterm"/><a id="iddle1938" class="indexterm"/><a id="iddle1939" class="indexterm"/><a id="iddle2456" class="indexterm"/><a id="iddle2471" class="indexterm"/><a id="iddle2492" class="indexterm"/><a id="iddle2505" class="indexterm"/><a id="iddle2519" class="indexterm"/><a id="iddle2520" class="indexterm"/>enter their age. In the second <code class="literal">while</code> loop, we ask for a password, store the user’s input in <code class="literal">password</code>, and break out of the loop if the input was alphanumeric. If it wasn’t, we’re not satisfied so we tell the user the password needs to be alphanumeric and again ask them to enter a password.</p><p>When run, the program’s output looks like this:</p><a id="pro_id00245"/><pre class="programlisting">Enter your age:
<span class="strong"><strong>forty two</strong></span>
Please enter a number for your age.
Enter your age:
<span class="strong"><strong>42</strong></span>
Select a new password (letters and numbers only):
<span class="strong"><strong>secr3t!</strong></span>
Passwords can only have letters and numbers.
Select a new password (letters and numbers only):
<span class="strong"><strong>secr3t</strong></span></pre><p>Calling <code class="literal">isdecimal()</code> and <code class="literal">isalnum()</code> on variables, we’re able to test whether the values stored in those variables are decimal or not, alphanumeric or not. Here, these tests help us reject the input <code class="literal">forty two</code> and accept <code class="literal">42</code>, and reject <code class="literal">secr3t!</code> and accept <code class="literal">secr3t</code>.</p></div><div class="sect2" title="The startswith() and endswith() String Methods"><div class="titlepage"><div><div><h2 class="title"><a id="startswithleft_parenthesisright_parenthe"/>The startswith() and endswith() String Methods</h2></div></div></div><p>The <code class="literal">startswith()</code> and <code class="literal">endswith()</code> methods return <code class="literal">True</code> if the string value they are called on begins or ends (respectively) with the string passed to the method; otherwise, they return <code class="literal">False</code>. Enter the following into the interactive shell:</p><a id="pro_id00246"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>'Hello world!'.startswith('Hello')</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'Hello world!'.endswith('world!')</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'abc123'.startswith('abcdef')</strong></span>
False
&gt;&gt;&gt; <span class="strong"><strong>'abc123'.endswith('12')</strong></span>
False
&gt;&gt;&gt; <span class="strong"><strong>'Hello world!'.startswith('Hello world!')</strong></span>
True
&gt;&gt;&gt; <span class="strong"><strong>'Hello world!'.endswith('Hello world!')</strong></span>
True</pre><p>These methods are useful alternatives to the <code class="literal">==</code> equals operator if you need to check only whether the first or last part of the string, rather than the whole thing, is equal to another string.</p></div><div class="sect2" title="The join() and split() String Methods"><div class="titlepage"><div><div><h2 class="title"><a id="joinleft_parenthesisright_parenthesis_an"/>The join() and split() String Methods</h2></div></div></div><p>The <code class="literal">join()</code> method is useful when you have a list of strings that need to be joined together into a single string value. The <code class="literal">join()</code> method is called on a string, gets passed a list of strings, and returns a string. The returned string is the concatenation of each string in the passed-in list. For example, enter the following into the interactive shell:</p><a id="pro_id00247"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>', '.join(['cats', 'rats', 'bats'])</strong></span>
'cats, rats, bats'
&gt;&gt;&gt; <span class="strong"><strong>' '.join(['My', 'name', 'is', 'Simon'])</strong></span>
'My name is Simon'
&gt;&gt;&gt; <span class="strong"><strong>'ABC'.join(['My', 'name', 'is', 'Simon'])</strong></span>
'MyABCnameABCisABCSimon'</pre><p>Notice that the string <code class="literal">join()</code> calls on is inserted between each string of the list argument. For example, when <code class="literal">join(['cats', 'rats', 'bats'])</code> is called on the <code class="literal">', '</code> string, the returned string is ‘cats, rats, bats’.</p><p>Remember that <code class="literal">join()</code> is called on a string value and is passed a list value. (It’s easy to accidentally call it the other way around.) The <code class="literal">split()</code> method does the opposite: It’s called on a string value and returns a list of strings. Enter the following into the interactive shell:</p><a id="pro_id00248"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>'My name is Simon'.split()</strong></span>
['My', 'name', 'is', 'Simon']</pre><p>By default, the string <code class="literal">'My name is Simon'</code> is split wherever whitespace characters such as the space, tab, or newline characters are found. These whitespace characters are not included in the strings in the returned list. You can pass a delimiter string to the <code class="literal">split()</code> method to specify a different string to split upon. For example, enter the following into the interactive shell:</p><a id="pro_id00249"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>'MyABCnameABCisABCSimon'.split('ABC')</strong></span>
['My', 'name', 'is', 'Simon']
&gt;&gt;&gt; <span class="strong"><strong>'My name is Simon'.split('m')</strong></span>
['My na', 'e is Si', 'on']</pre><p>A common use of <code class="literal">split()</code> is to split a multiline string along the newline characters. Enter the following into the interactive shell:</p><a id="pro_id00250"/><pre class="programlisting">&gt;&gt;&gt;<span class="strong"><strong> spam = '''Dear Alice,</strong></span>
<span class="strong"><strong>How have you been? I am fine.</strong></span>
<span class="strong"><strong>There is a container in the fridge</strong></span>
<span class="strong"><strong>that is labeled "Milk Experiment".</strong></span>

<span class="strong"><strong>Please do not drink it.</strong></span>
<span class="strong"><strong>Sincerely,</strong></span>
<span class="strong"><strong>Bob'''</strong></span> 
&gt;&gt;&gt; <span class="strong"><strong>spam.split('\n')</strong></span>
['Dear Alice,', 'How have you been? I am fine.', 'There is a container in the
fridge', 'that is labeled "Milk Experiment".', '', 'Please do not drink it.',
'Sincerely,', 'Bob']</pre><p><a id="iddle1164" class="indexterm"/><a id="iddle1775" class="indexterm"/><a id="iddle1859" class="indexterm"/><a id="iddle1921" class="indexterm"/><a id="iddle1932" class="indexterm"/><a id="iddle1936" class="indexterm"/><a id="iddle2351" class="indexterm"/><a id="iddle2486" class="indexterm"/><a id="iddle2507" class="indexterm"/><a id="iddle2516" class="indexterm"/>Passing <code class="literal">split()</code> the argument <code class="literal">'\n'</code> lets us split the multiline string stored in <code class="literal">spam</code> along the newlines and return a list in which each item corresponds to one line of the string.</p></div><div class="sect2" title="Justifying Text with rjust(), ljust(), and center()"><div class="titlepage"><div><div><h2 class="title"><a id="justifying_text_with_rjustleft_parenthes"/>Justifying Text with rjust(), ljust(), and center()</h2></div></div></div><p>The <code class="literal">rjust()</code> and <code class="literal">ljust()</code> string methods return a padded version of the string they are called on, with spaces inserted to justify the text. The first argument to both methods is an integer length for the justified string. Enter the following into the interactive shell:</p><a id="pro_id00251"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>'Hello'.rjust(10)</strong></span>
'     Hello' 
&gt;&gt;&gt; <span class="strong"><strong>'Hello'.rjust(20)</strong></span>
'               Hello' 
&gt;&gt;&gt; <span class="strong"><strong>'Hello World'.rjust(20)</strong></span>
'         Hello World' 
&gt;&gt;&gt; <span class="strong"><strong>'Hello'.ljust(10)</strong></span>
'Hello'</pre><p><code class="literal">'Hello'.rjust(10)</code> says that we want to right-justify <code class="literal">'Hello'</code> in a string of total length <code class="literal">10</code>. <code class="literal">'Hello'</code> is five characters, so five spaces will be added to its left, giving us a string of 10 characters with <code class="literal">'Hello'</code> justified right.</p><p>An optional second argument to <code class="literal">rjust()</code> and <code class="literal">ljust()</code> will specify a fill character other than a space character. Enter the following into the interactive shell:</p><a id="pro_id00252"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>'Hello'.rjust(20, '*')</strong></span>
'***************Hello'
&gt;&gt;&gt; <span class="strong"><strong>'Hello'.ljust(20, '-')</strong></span>
'Hello---------------'</pre><p>The <code class="literal">center()</code> string method works like <code class="literal">ljust()</code> and <code class="literal">rjust()</code> but centers the text rather than justifying it to the left or right. Enter the following into the interactive shell:</p><a id="pro_id00253"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>'Hello'.center(20)</strong></span>
'       Hello       ' 
&gt;&gt;&gt; <span class="strong"><strong>'Hello'.center(20, '=')</strong></span>
'=======Hello========'</pre><p>These methods are especially useful when you need to print tabular data that has the correct spacing. Open a new file editor window and enter the following code, saving it as <span class="emphasis"><em>picnicTable.py</em></span>:</p><a id="pro_id00254"/><pre class="programlisting">def printPicnic(itemsDict, leftWidth, rightWidth):
    print('PICNIC ITEMS'.center(leftWidth + rightWidth, '-'))
    for k, v in itemsDict.items():
        print(k.ljust(leftWidth, '.') + str(v).rjust(rightWidth))
picnicItems = {'sandwiches': 4, 'apples': 12, 'cups': 4, 'cookies': 8000}
printPicnic(picnicItems, 12, 5)
printPicnic(picnicItems, 20, 6)</pre><p><a id="iddle1891" class="indexterm"/><a id="iddle1934" class="indexterm"/><a id="iddle1937" class="indexterm"/><a id="iddle1940" class="indexterm"/><a id="iddle2361" class="indexterm"/><a id="iddle2509" class="indexterm"/><a id="iddle2517" class="indexterm"/><a id="iddle2521" class="indexterm"/><a id="iddle2524" class="indexterm"/><a id="iddle2689" class="indexterm"/>In this program, we define a <code class="literal">printPicnic()</code> method that will take in a dictionary of information and use <code class="literal">center()</code>, <code class="literal">ljust()</code>, and <code class="literal">rjust()</code> to display that information in a neatly aligned table-like format.</p><p>The dictionary that we’ll pass to <code class="literal">printPicnic()</code> is <code class="literal">picnicItems</code>. In <code class="literal">picnicItems</code>, we have 4 sandwiches, 12 apples, 4 cups, and 8000 cookies. We want to organize this information into two columns, with the name of the item on the left and the quantity on the right.</p><p>To do this, we decide how wide we want the left and right columns to be. Along with our dictionary, we’ll pass these values to <code class="literal">printPicnic()</code>.</p><p><code class="literal">printPicnic()</code> takes in a dictionary, a <code class="literal">leftWidth</code> for the left column of a table, and a <code class="literal">rightWidth</code> for the right column. It prints a title, <code class="literal">PICNIC ITEMS</code>, centered above the table. Then, it loops through the dictionary, printing each key-value pair on a line with the key justified left and padded by periods, and the value justified right and padded by spaces.</p><p>After defining <code class="literal">printPicnic()</code>, we define the dictionary <code class="literal">picnicItems</code> and call <code class="literal">printPicnic()</code> twice, passing it different widths for the left and right table columns.</p><p>When you run this program, the picnic items are displayed twice. The first time the left column is 12 characters wide, and the right column is 5 characters wide. The second time they are 20 and 6 characters wide, respectively.</p><a id="pro_id00255"/><pre class="programlisting">---PICNIC ITEMS--
sandwiches..    4
apples......   12
cups........    4
cookies..... 8000
-------PICNIC ITEMS-------
sandwiches..........     4
apples..............    12
cups................     4
cookies.............  8000</pre><p>Using <code class="literal">rjust()</code>, <code class="literal">ljust()</code>, and <code class="literal">center()</code> lets you ensure that strings are neatly aligned, even if you aren’t sure how many characters long your strings are.</p></div><div class="sect2" title="Removing Whitespace with strip(), rstrip(), and lstrip()"><div class="titlepage"><div><div><h2 class="title"><a id="removing_whitespace_with_stripleft_paren"/>Removing Whitespace with strip(), rstrip(), and lstrip()</h2></div></div></div><p>Sometimes you may want to strip off whitespace characters (space, tab, and newline) from the left side, right side, or both sides of a string. The <code class="literal">strip()</code> string method will return a new string without any whitespace <a id="iddle1220" class="indexterm"/><a id="iddle1922" class="indexterm"/><a id="iddle1935" class="indexterm"/><a id="iddle2069" class="indexterm"/><a id="iddle2254" class="indexterm"/><a id="iddle2490" class="indexterm"/>characters at the beginning or end. The <code class="literal">lstrip()</code> and <code class="literal">rstrip()</code> methods will remove whitespace characters from the left and right ends, respectively. Enter the following into the interactive shell:</p><a id="pro_id00256"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>spam = '    Hello World     '</strong></span> 
&gt;&gt;&gt; <span class="strong"><strong>spam.strip()</strong></span>
'Hello World' 
&gt;&gt;&gt; <span class="strong"><strong>spam.lstrip()</strong></span>
'Hello World ' 
&gt;&gt;&gt; <span class="strong"><strong>spam.rstrip()</strong></span>
'    Hello World'</pre><p>Optionally, a string argument will specify which characters on the ends should be stripped. Enter the following into the interactive shell:</p><a id="pro_id00257"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>spam = 'SpamSpamBaconSpamEggsSpamSpam'</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>spam.strip('ampS')</strong></span>
'BaconSpamEggs'</pre><p>Passing <code class="literal">strip()</code> the argument <code class="literal">'ampS'</code> will tell it to strip occurences of <code class="literal">a</code>, <code class="literal">m</code>, <code class="literal">p</code>, and capital <code class="literal">S</code> from the ends of the string stored in <code class="literal">spam</code>. The order of the characters in the string passed to <code class="literal">strip()</code> does not matter: <code class="literal">strip('ampS')</code> will do the same thing as <code class="literal">strip('mapS')</code> or <code class="literal">strip('Spam')</code>.</p></div><div class="sect2" title="Copying and Pasting Strings with the pyperclip Module"><div class="titlepage"><div><div><h2 class="title"><a id="copying_and_pasting_strings_with_the_pyp"/>Copying and Pasting Strings with the pyperclip Module</h2></div></div></div><p>The <code class="literal">pyperclip</code> module has <code class="literal">copy()</code> and <code class="literal">paste()</code> functions that can send text to and receive text from your computer’s clipboard. Sending the output of your program to the clipboard will make it easy to paste it to an email, word processor, or some other software.</p><p>Pyperclip does not come with Python. To install it, follow the directions for installing third-party modules in Appendix A. After installing the <code class="literal">pyperclip</code> module, enter the following into the interactive shell:</p><a id="pro_id00258"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>import pyperclip</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>pyperclip.copy('Hello world!')</strong></span>
&gt;&gt;&gt; <span class="strong"><strong>pyperclip.paste()</strong></span>
'Hello world!'</pre><p>Of course, if something outside of your program changes the clipboard contents, the <code class="literal">paste()</code> function will return it. For example, if I copied this sentence to the clipboard and then called <code class="literal">paste()</code>, it would look like this:</p><a id="pro_id00259"/><pre class="programlisting">&gt;&gt;&gt; <span class="strong"><strong>pyperclip.paste()</strong></span>
'For example, if I copied this sentence to the clipboard and then called
paste(), it would look like this:'</pre><div class="sidebar"><a id="running_python_scripts_outside_of_idle"/><p class="title">Running Python Scripts Outside of IDLE</p><p><a id="iddle1668" class="indexterm"/><a id="iddle2063" class="indexterm"/><a id="iddle2066" class="indexterm"/><a id="iddle2067" class="indexterm"/><a id="iddle2191" class="indexterm"/><a id="iddle2382" class="indexterm"/>So far, you’ve been running your Python scripts using the interactive shell and file editor in IDLE. However, you won’t want to go through the inconvenience of opening IDLE and the Python script each time you want to run a script. Fortunately, there are shortcuts you can set up to make running Python scripts easier. The steps are slightly different for Windows, OS X, and Linux, but each is described in Appendix B. Turn to Appendix B to learn how to run your Python scripts conveniently and be able to pass command line arguments to them. (You will not be able to pass command line arguments to your programs using IDLE.)</p></div></div></div><div class="sect1" title="Project: Password Locker"><div class="titlepage"><div><div><h1 class="title"><a id="project_password_locker"/>Project: Password Locker</h1></div></div></div><p>You probably have accounts on many different websites. It’s a bad habit to use the same password for each of them because if any of those sites has a security breach, the hackers will learn the password to all of your other accounts. It’s best to use password manager software on your computer that uses one master password to unlock the password manager. Then you can copy any account password to the clipboard and paste it into the website’s Password field.</p><p>The password manager program you’ll create in this example isn’t secure, but it offers a basic demonstration of how such programs work.</p><div class="sidebar"><a id="chapter_projects"/><p class="title">The Chapter Projects</p><p>This is the first “chapter project” of the book. From here on, each chapter will have projects that demonstrate the concepts covered in the chapter. The projects are written in a style that takes you from a blank file editor window to a full, working program. Just like with the interactive shell examples, don’t only read the project sections—follow along on your computer!</p></div><div class="sect2" title="Step 1: Program Design and Data Structures"><div class="titlepage"><div><div><h2 class="title"><a id="step_1_program_design_and_data_structure"/>Step 1: Program Design and Data Structures</h2></div></div></div><p>You want to be able to run this program with a command line argument that is the account’s name—for instance, <span class="emphasis"><em>email</em></span> or <span class="emphasis"><em>blog</em></span>. That account’s password will be copied to the clipboard so that the user can paste it into a Password field. This way, the user can have long, complicated passwords without having to memorize them.</p><p>Open a new file editor window and save the program as <span class="emphasis"><em>pw.py</em></span>. You need to start the program with a <code class="literal">#!</code> (<span class="emphasis"><em>shebang</em></span>) line (see Appendix B) and should also write a comment that briefly describes the program. Since you want to associate each account’s name with its password, you can store these as <a id="iddle2064" class="indexterm"/><a id="iddle2065" class="indexterm"/>strings in a dictionary. The dictionary will be the data structure that organizes your account and password data. Make your program look like the following:</p><a id="pro_id00260"/><pre class="programlisting">#! python3
# pw.py - An insecure password locker program.

PASSWORDS = {'email': 'F7minlBDDuvMJuxESSKHFhTxFtjVB6',
             'blog': 'VmALvQyKAxiVH5G8v01if1MLZF3sdt',
             'luggage': '12345'}</pre></div><div class="sect2" title="Step 2: Handle Command Line Arguments"><div class="titlepage"><div><div><h2 class="title"><a id="step_2_handle_command_line_arguments"/>Step 2: Handle Command Line Arguments</h2></div></div></div><p>The command line arguments will be stored in the variable <code class="literal">sys.argv</code>. (See Appendix B for more information on how to use command line arguments in your programs.) The first item in the <code class="literal">sys.argv</code> list should always be a string containing the program’s filename (<code class="literal">'pw.py'</code>), and the second item should be the first command line argument. For this program, this argument is the name of the account whose password you want. Since the command line argument is mandatory, you display a usage message to the user if they forget to add it (that is, if the <code class="literal">sys.argv</code> list has fewer than two values in it). Make your program look like the following:</p><a id="pro_id00261"/><pre class="programlisting">#! python3
# pw.py - An insecure password locker program.

PASSWORDS = {'email': 'F7minlBDDuvMJuxESSKHFhTxFtjVB6',
             'blog': 'VmALvQyKAxiVH5G8v01if1MLZF3sdt',
             'luggage': '12345'}

<span class="strong"><strong>import sys</strong></span>
<span class="strong"><strong>if len(sys.argv) &lt; 2:</strong></span>
    <span class="strong"><strong>print('Usage: python pw.py [account] - copy account password')</strong></span>
    <span class="strong"><strong>sys.exit()</strong></span>

<span class="strong"><strong>account = sys.argv[1]      # first command line arg is the account name</strong></span></pre></div><div class="sect2" title="Step 3: Copy the Right Password"><div class="titlepage"><div><div><h2 class="title"><a id="step_3_copy_the_right_password"/>Step 3: Copy the Right Password</h2></div></div></div><p>Now that the account name is stored as a string in the variable <code class="literal">account</code>, you need to see whether it exists in the <code class="literal">PASSWORDS</code> dictionary as a key. If so, you want to copy the key’s value to the clipboard using <code class="literal">pyperclip.copy()</code>. (Since you’re using the <code class="literal">pyperclip</code> module, you need to import it.) Note that you don’t actually <span class="emphasis"><em>need</em></span> the <code class="literal">account</code> variable; you could just use <code class="literal">sys.argv[1]</code> everywhere <code class="literal">account</code> is used in this program. But a variable named <code class="literal">account</code> is much more readable than something cryptic like <code class="literal">sys.argv[1]</code>.</p><p>Make your program look like the following:</p><a id="pro_id00262"/><pre class="programlisting">#! python3
# pw.py - An insecure password locker program.
PASSWORDS = {'email': 'F7minlBDDuvMJuxESSKHFhTxFtjVB6',
             'blog': 'VmALvQyKAxiVH5G8v01if1MLZF3sdt',
             'luggage': '12345'}

import sys, <span class="strong"><strong>pyperclip</strong></span>
if len(sys.argv) &lt; 2:
    print('Usage: py pw.py [account] - copy account password')
    sys.exit()

account = sys.argv[1]   # first command line arg is the account name

<span class="strong"><strong>if account in PASSWORDS:</strong></span>
    <span class="strong"><strong>pyperclip.copy(PASSWORDS[account])</strong></span>
    <span class="strong"><strong>print('Password for ' + account + ' copied to clipboard.')</strong></span>
<span class="strong"><strong>else:</strong></span>
    <span class="strong"><strong>print('There is no account named ' + account)</strong></span></pre><p>This new code looks in the <code class="literal">PASSWORDS</code> dictionary for the account name. If the account name is a key in the dictionary, we get the value corresponding to that key, copy it to the clipboard, and print a message saying that we copied the value. Otherwise, we print a message saying there’s no account with that name.</p><p>That’s the complete script. Using the instructions in Appendix B for launching command line programs easily, you now have a fast way to copy your account passwords to the clipboard. You will have to modify the <code class="literal">PASSWORDS</code> dictionary value in the source whenever you want to update the program with a new password.</p><p>Of course, you probably don’t want to keep all your passwords in one place where anyone could easily copy them. But you can modify this program and use it to quickly copy regular text to the clipboard. Say you are sending out several emails that have many of the same stock paragraphs in common. You could put each paragraph as a value in the <code class="literal">PASSWORDS</code> dictionary (you’d probably want to rename the dictionary at this point), and then you would have a way to quickly select and copy one of many standard pieces of text to the clipboard.</p><p>On Windows, you can create a batch file to run this program with the <span class="smaller">WIN</span>-R Run window. (For more about batch files, see Appendix B.) Type the following into the file editor and save the file as <span class="emphasis"><em>pw.bat</em></span> in the <span class="emphasis"><em>C:\Windows</em></span> folder:</p><a id="pro_id00263"/><pre class="programlisting">@py.exe C:\Python34\pw.py %*
@pause</pre><p>With this batch file created, running the password-safe program on Windows is just a matter of pressing <span class="smaller">WIN</span>-R and typing <code class="literal">pw &lt;account name&gt;</code>.</p></div></div><div class="sect1" title="Project: Adding Bullets to Wiki Markup"><div class="titlepage"><div><div><h1 class="title"><a id="project_adding_bullets_to_wiki_markup"/>Project: Adding Bullets to Wiki Markup</h1></div></div></div><p><a id="iddle1143" class="indexterm"/><a id="iddle1144" class="indexterm"/><a id="iddle1146" class="indexterm"/><a id="iddle2177" class="indexterm"/>When editing a Wikipedia article, you can create a bulleted list by putting each list item on its own line and placing a star in front. But say you have a really large list that you want to add bullet points to. You could just type those stars at the beginning of each line, one by one. Or you could automate this task with a short Python script.</p><p>The <span class="emphasis"><em>bulletPointAdder.py</em></span> script will get the text from the clipboard, add a star and space to the beginning of each line, and then paste this new text to the clipboard. For example, if I copied the following text (for the Wikipedia article “List of Lists of Lists”) to the clipboard:</p><a id="pro_id00264"/><pre class="programlisting">Lists of animals
Lists of aquarium life
Lists of biologists by author abbreviation
Lists of cultivars</pre><p>and then ran the <span class="emphasis"><em>bulletPointAdder.py</em></span> program, the clipboard would then contain the following:</p><a id="pro_id00265"/><pre class="programlisting">* Lists of animals
* Lists of aquarium life
* Lists of biologists by author abbreviation
* Lists of cultivars</pre><p>This star-prefixed text is ready to be pasted into a Wikipedia article as a bulleted list.</p><div class="sect2" title="Step 1: Copy and Paste from the Clipboard"><div class="titlepage"><div><div><h2 class="title"><a id="step_1_copy_and_paste_from_the_clipboard"/>Step 1: Copy and Paste from the Clipboard</h2></div></div></div><p>You want the <span class="emphasis"><em>bulletPointAdder.py</em></span> program to do the following:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Paste text from the clipboard</p></li><li class="listitem"><p>Do something to it</p></li><li class="listitem"><p>Copy the new text to the clipboard</p></li></ol></div><p>That second step is a little tricky, but steps 1 and 3 are pretty straightforward: They just involve the <code class="literal">pyperclip.copy()</code> and <code class="literal">pyperclip.paste()</code> functions. For now, let’s just write the part of the program that covers steps 1 and 3. Enter the following, saving the program as <span class="emphasis"><em>bulletPointAdder.py</em></span>:</p><a id="pro_id00266"/><pre class="programlisting">#! python3
# bulletPointAdder.py - Adds Wikipedia bullet points to the start
# of each line of text on the clipboard.

import pyperclip
text = pyperclip.paste()

# TODO: Separate lines and add stars.

pyperclip.copy(text)</pre><p><a id="iddle1147" class="indexterm"/>The <code class="literal">TODO</code> comment is a reminder that you should complete this part of the program eventually. The next step is to actually implement that piece of the program.</p></div><div class="sect2" title="Step 2: Separate the Lines of Text and Add the Star"><div class="titlepage"><div><div><h2 class="title"><a id="step_2_separate_the_lines_of_text_and_ad"/>Step 2: Separate the Lines of Text and Add the Star</h2></div></div></div><p>The call to <code class="literal">pyperclip.paste()</code> returns all the text on the clipboard as one big string. If we used the “List of Lists of Lists” example, the string stored in <code class="literal">text</code> would look like this:</p><a id="pro_id00267"/><pre class="programlisting">'Lists of animals\nLists of aquarium life\nLists of biologists by author
abbreviation\nLists of cultivars'</pre><p>The <code class="literal">\n</code> newline characters in this string cause it to be displayed with multiple lines when it is printed or pasted from the clipboard. There are many “lines” in this one string value. You want to add a star to the start of each of these lines.</p><p>You could write code that searches for each <code class="literal">\n</code> newline character in the string and then adds the star just after that. But it would be easier to use the <code class="literal">split()</code> method to return a list of strings, one for each line in the original string, and then add the star to the front of each string in the list.</p><p>Make your program look like the following:</p><a id="pro_id00268"/><pre class="programlisting">#! python3
# bulletPointAdder.py - Adds Wikipedia bullet points to the start
# of each line of text on the clipboard.

import pyperclip
text = pyperclip.paste()

<span class="strong"><strong># Separate lines and add stars.</strong></span>
<span class="strong"><strong>lines = text.split('\n')</strong></span>
<span class="strong"><strong>for i in range(len(lines)):    # loop through all indexes in the "lines" list</strong></span>
    <span class="strong"><strong>lines[i] = '* ' + lines[i] # add star to each string in "lines" list</strong></span>

pyperclip.copy(text)</pre><p>We split the text along its newlines to get a list in which each item is one line of the text. We store the list in <code class="literal">lines</code> and then loop through the items in <code class="literal">lines</code>. For each line, we add a star and a space to the start of the line. Now each string in <code class="literal">lines</code> begins with a star.</p></div><div class="sect2" title="Step 3: Join the Modified Lines"><div class="titlepage"><div><div><h2 class="title"><a id="step_3_join_the_modified_lines"/>Step 3: Join the Modified Lines</h2></div></div></div><p><a id="iddle1145" class="indexterm"/>The <code class="literal">lines</code> list now contains modified lines that start with stars. But <code class="literal">pyperclip.copy()</code> is expecting a single string value, not a list of string values. To make this single string value, pass <code class="literal">lines</code> into the <code class="literal">join()</code> method to get a single string joined from the list’s strings. Make your program look like the following:</p><a id="pro_id00269"/><pre class="programlisting">#! python3
# bulletPointAdder.py - Adds Wikipedia bullet points to the start
# of each line of text on the clipboard.

import pyperclip
text = pyperclip.paste()

# Separate lines and add stars.
lines = text.split('\n')
for i in range(len(lines)):    # loop through all indexes for "lines" list
    lines[i] = '* ' + lines[i] # add star to each string in "lines" list
<span class="strong"><strong>text = '\n'.join(lines)</strong></span>
pyperclip.copy(text)</pre><p>When this program is run, it replaces the text on the clipboard with text that has stars at the start of each line. Now the program is complete, and you can try running it with text copied to the clipboard.</p><p>Even if you don’t need to automate this specific task, you might want to automate some other kind of text manipulation, such as removing trailing spaces from the end of lines or converting text to uppercase or lowercase. Whatever your needs, you can use the clipboard for input and output.</p></div></div><div class="sect1" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="summary-id00018"/>Summary</h1></div></div></div><p>Text is a common form of data, and Python comes with many helpful string methods to process the text stored in string values. You will make use of indexing, slicing, and string methods in almost every Python program you write.</p><p>The programs you are writing now don’t seem too sophisticated—they don’t have graphical user interfaces with images and colorful text. So far, you’re displaying text with <code class="literal">print()</code> and letting the user enter text with <code class="literal">input()</code>. However, the user can quickly enter large amounts of text through the clipboard. This ability provides a useful avenue for writing programs that manipulate massive amounts of text. These text-based programs might not have flashy windows or graphics, but they can get a lot of useful work done quickly.</p><p>Another way to manipulate large amounts of text is reading and writing files directly off the hard drive. You’ll learn how to do this with Python in the next chapter.</p><p>That just about covers all the basic concepts of Python programming! You’ll continue to learn new concepts throughout the rest of this book, but you now know enough to start writing some useful programs that can automate tasks. You might not think you have enough Python knowledge to do things such as download web pages, update spreadsheets, or send text messages, but that’s where Python modules come in! These modules, written by other programmers, provide functions that make it easy for you to do all these things. So let’s learn how to write real programs to do useful automated tasks.</p></div><div class="sect1" title="Practice Questions"><div class="titlepage"><div><div><h1 class="title"><a id="practice_questions-id00019"/>Practice Questions</h1></div></div></div><div class="qandaset" title="Frequently Asked Questions"><a id="ch06qa1"/><table border="0" width="100%" summary="Q and A Set"><col align="left" width="1%"/><col/><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe1"/><a id="ch06qa1q1"/><p>Q:</p></td><td align="left" valign="top"><p>1. What are escape characters?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe2"/><a id="ch06qa1q2"/><p>Q:</p></td><td align="left" valign="top"><p>2. What do the <code class="literal">\n</code> and <code class="literal">\t</code> escape characters represent?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe3"/><a id="ch06qa1q3"/><p>Q:</p></td><td align="left" valign="top"><p>3. How can you put a <code class="literal">\</code> backslash character in a string?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe4"/><a id="ch06qa1q4"/><p>Q:</p></td><td align="left" valign="top"><p>4. The string value <code class="literal">"Howl's Moving Castle"</code> is a valid string. Why isn’t it a problem that the single quote character in the word <code class="literal">Howl's</code> isn’t escaped?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe5"/><a id="ch06qa1q5"/><p>Q:</p></td><td align="left" valign="top"><p>5. If you don’t want to put <code class="literal">\n</code> in your string, how can you write a string with newlines in it?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe6"/><a id="ch06qa1q6"/><p>Q:</p></td><td align="left" valign="top"><p>6. What do the following expressions evaluate to?</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">'Hello world!'[1]</code></p></li><li class="listitem"><p><code class="literal">'Hello world!'[0:5]</code></p></li><li class="listitem"><p><code class="literal">'Hello world!'[:5]</code></p></li><li class="listitem"><p><code class="literal">'Hello world!'[3:]</code></p></li></ul></div></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe7"/><a id="ch06qa1q7"/><p>Q:</p></td><td align="left" valign="top"><p>7. What do the following expressions evaluate to?</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">'Hello'.upper()</code></p></li><li class="listitem"><p><code class="literal">'Hello'.upper().isupper()</code></p></li><li class="listitem"><p><code class="literal">'Hello'.upper().lower()</code></p></li></ul></div></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe8"/><a id="ch06qa1q8"/><p>Q:</p></td><td align="left" valign="top"><p>8. What do the following expressions evaluate to?</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">'Remember, remember, the fifth of November.'.split()</code></p></li><li class="listitem"><p><code class="literal">'-'.join('There can be only one.'.split())</code></p></li></ul></div></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe9"/><a id="ch06qa1q9"/><p>Q:</p></td><td align="left" valign="top"><p>9. What string methods can you use to right-justify, left-justify, and center a string?</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe10"/><a id="ch06qa1q10"/><p>Q:</p></td><td align="left" valign="top"><p>10. How can you trim whitespace characters from the beginning or end of a string?</p></td></tr></tbody></table></div></div><div class="sect1" title="Practice Project"><div class="titlepage"><div><div><h1 class="title"><a id="practice_project"/>Practice Project</h1></div></div></div><p>For practice, write a program that does the following.</p><div class="sect2" title="Table Printer"><div class="titlepage"><div><div><h2 class="title"><a id="table_printer"/>Table Printer</h2></div></div></div><p>Write a function named <code class="literal">printTable()</code> that takes a list of lists of strings and displays it in a well-organized table with each column right-justified. Assume that all the inner lists will contain the same number of strings. For example, the value could look like this:</p><a id="pro_id00270"/><pre class="programlisting">tableData = [['apples', 'oranges', 'cherries', 'banana'],
             ['Alice', 'Bob', 'Carol', 'David'],
             ['dogs', 'cats', 'moose', 'goose']]</pre><p>Your <code class="literal">printTable()</code> function would print the following:</p><a id="pro_id00271"/><pre class="programlisting">  apples Alice  dogs
 oranges   Bob  cats
cherries Carol moose
  banana David goose</pre><p>Hint: Your code will first have to find the longest string in each of the inner lists so that the whole column can be wide enough to fit all the strings. You can store the maximum width of each column as a list of integers. The <code class="literal">printTable()</code> function can begin with <code class="literal">colWidths = [0] * len(tableData)</code>, which will create a list containing the same number of <code class="literal">0</code> values as the number of inner lists in <code class="literal">tableData</code>. That way, <code class="literal">colWidths[0]</code> can store the width of the longest string in <code class="literal">tableData[0]</code>, <code class="literal">colWidths[1]</code> can store the width of the longest string in <code class="literal">tableData[1]</code>, and so on. You can then find the largest value in the <code class="literal">colWidths</code> list to find out what integer width to pass to the <code class="literal">rjust()</code> string method.</p></div></div></div></body></html>
